
# GPTTextTools Backend API

This is the backend API for GPTTextTools, providing endpoints for AI text detection and text humanization.

## Features

- **AI Text Detection**: Analyze text to determine if it was likely written by AI
- **Text Humanization**: Transform AI-generated content to be more natural
- **MongoDB Integration**: Store analysis results and user history
- **OpenAI API**: Leverage GPT models for text transformation (when API key is provided)

## Setup

### Prerequisites

- Node.js (v14 or higher)
- npm or yarn
- MongoDB (local instance or MongoDB Atlas)
- OpenAI API key (for production humanization)

### Installation

1. Install dependencies:
   ```bash
   npm install
   ```

2. Create a `.env` file in the root directory with the following variables:
   ```
   PORT=5000
   MONGO_URI=mongodb://localhost:27017/gpt-text-tools
   OPENAI_API_KEY=your_openai_api_key
   CORS_ORIGIN=http://localhost:5173
   ```

3. Start the development server:
   ```bash
   npm run dev
   ```

## API Endpoints

### Detect AI Text
- **URL**: `/api/detect-ai-text`
- **Method**: `POST`
- **Body**:
  ```json
  {
    "text": "The text you want to analyze",
    "userId": "optional-user-id"
  }
  ```
- **Response**:
  ```json
  {
    "success": true,
    "data": {
      "aiProbability": 75.5,
      "confidenceLevel": "High",
      "analysis": "This text was likely generated by AI...",
      "textLength": 150,
      "timestamp": "2023-06-01T12:00:00Z",
      "resultId": "mongodb-id"
    }
  }
  ```

### Humanize Text
- **URL**: `/api/humanize-text`
- **Method**: `POST`
- **Body**:
  ```json
  {
    "text": "The AI-generated text you want to humanize",
    "userId": "optional-user-id"
  }
  ```
- **Response**:
  ```json
  {
    "success": true,
    "data": {
      "originalText": "Original text...",
      "humanizedText": "Humanized version...",
      "textLength": 150,
      "timestamp": "2023-06-01T12:00:00Z",
      "resultId": "mongodb-id"
    }
  }
  ```

## Testing

Run the test suite:

```bash
npm test
```

For more detailed testing information, see [TESTING.md](TESTING.md).

## Deployment

For instructions on deploying to AWS Elastic Beanstalk, see [DEPLOYMENT.md](DEPLOYMENT.md).

## Database Schema

### DetectionResult

```javascript
{
  userId: String,           // User identifier
  originalText: String,     // The text that was analyzed
  detectionResults: {       // Results from AI detection
    aiProbability: Number,  // Likelihood of being AI-generated (0-100)
    confidenceLevel: String, // Low, Medium, High
    analysis: String,       // Text explanation of results
    textLength: Number      // Character count
  },
  humanizedText: String,    // Humanized version (if requested)
  timestamp: Date           // When the analysis was performed
}
```

## Implementation Notes

In production, you should replace the placeholder detection service with actual API calls to services like GPTZero, OpenAI, or other specialized AI detection tools.
